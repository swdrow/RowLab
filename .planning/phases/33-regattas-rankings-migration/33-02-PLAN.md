---
phase: 33-regattas-rankings-migration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/v2/components/rankings/RankingsView.tsx
  - src/v2/components/rankings/RankingImportForm.tsx
  - src/v2/components/rankings/HeadToHeadTable.tsx
  - src/v2/components/rankings/index.ts
  - src/v2/pages/RegattasPage.tsx
  - src/v2/pages/RankingsPage.tsx
  - src/v2/pages/AdvancedRankingsPage.tsx
autonomous: true

must_haves:
  truths:
    - "User sees warm V3 design tokens across all rankings components and pages"
    - "User sees glass-card effects on ranking cards, import forms, and page sections"
    - "User sees consistent ink-*/txt-*/data-* token usage across rankings and regatta pages"
    - "User sees V3 tokens on the AdvancedRankingsPage connecting to Phase 14 components"
  artifacts:
    - path: "src/v2/components/rankings/RankingsView.tsx"
      provides: "V3-migrated rankings view with warm design tokens"
      min_lines: 180
    - path: "src/v2/pages/RegattasPage.tsx"
      provides: "V3-migrated regattas page with glass cards and data tokens"
      min_lines: 200
    - path: "src/v2/pages/RankingsPage.tsx"
      provides: "V3-migrated rankings page"
      min_lines: 140
  key_links:
    - from: "src/v2/pages/RankingsPage.tsx"
      to: "src/v2/components/rankings/RankingsView.tsx"
      via: "import and render for main rankings display"
      pattern: "RankingsView"
    - from: "src/v2/pages/RegattasPage.tsx"
      to: "src/v2/components/regatta/RegattaList.tsx"
      via: "import and render for regatta listing"
      pattern: "RegattaList"
---

<objective>
Migrate all rankings components and regatta/rankings pages to V3 design tokens.

Purpose: Complete the V3 token migration for the regattas/rankings domain. After Plans 01 and 02 (both Wave 1), all components and pages in the regatta/rankings domain will use the warm dark design system.

Output: 3 rankings components + 3 pages fully migrated to V3 tokens.
</objective>

<execution_context>
@/home/swd/.claude/get-shit-done/workflows/execute-plan.md
@/home/swd/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-regattas-rankings-migration/33-RESEARCH.md
@src/v2/styles/tokens.css
@src/v2/styles/dark.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate rankings components to V3 tokens</name>
  <files>
    src/v2/components/rankings/RankingsView.tsx
    src/v2/components/rankings/RankingImportForm.tsx
    src/v2/components/rankings/HeadToHeadTable.tsx
    src/v2/components/rankings/index.ts
  </files>
  <action>
    Migrate all 3 rankings components to V3 design tokens following the Phase 28-32 migration pattern:

    1. **RankingsView.tsx** (222 lines): Main rankings display. Migrate:
       - Table container to `glass-card` or `bg-ink-raised`
       - Table headers to `text-txt-secondary` with `bg-ink-well`
       - Table rows to `hover:bg-ink-hover` with `border-ink-border`
       - Rank numbers to `text-txt-primary font-bold`
       - Speed/time values to `font-mono tabular-nums text-txt-primary`
       - Rank change indicators: up = `text-data-excellent`, down = `text-data-poor`, unchanged = `text-txt-tertiary`
       - Filter buttons to V3 interactive states

    2. **RankingImportForm.tsx** (243 lines): External ranking import (Row2k, USRowing). Migrate:
       - Form inputs to `bg-ink-well border-ink-border text-txt-primary`
       - Labels to `text-txt-secondary`
       - Source selector buttons to V3 token styles
       - Submit button to `bg-accent-copper` or `bg-interactive-primary`
       - Validation errors to `text-data-poor`

    3. **HeadToHeadTable.tsx** (170 lines): Team comparison matrix. Migrate:
       - Table cells to V3 data tokens (wins = `data-excellent`, losses = `data-poor`)
       - Header row styling to `bg-ink-well text-txt-secondary`
       - Cell hover to `hover:bg-ink-hover`

    Do NOT change component logic, props, or data flow. Token migration only.
  </action>
  <verify>
    Run `grep -rn 'bg-gray-\|bg-zinc-\|bg-neutral-\|text-gray-\|text-zinc-\|border-gray-\|border-zinc-' src/v2/components/rankings/` — should return zero matches.
    Run `npx tsc --noEmit` to verify no TypeScript errors.
  </verify>
  <done>All 3 rankings components use only V3 design tokens. No V1/V2 hardcoded color classes remain.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate regatta and rankings pages to V3 tokens</name>
  <files>
    src/v2/pages/RegattasPage.tsx
    src/v2/pages/RankingsPage.tsx
    src/v2/pages/AdvancedRankingsPage.tsx
  </files>
  <action>
    Migrate all 3 pages to V3 design tokens:

    1. **RegattasPage.tsx** (286 lines): Main regattas page with list and detail views. Migrate:
       - Page background/container to V3 ink tokens
       - Tab navigation (if present) to V3 interactive styles
       - Action buttons (Create Regatta) to `bg-accent-copper` with hover state
       - Section headers to `text-txt-primary`
       - Empty state fallback styling
       - Any modal/dialog wrappers to glass-card pattern

    2. **RankingsPage.tsx** (176 lines): Rankings page with table and filters. Migrate:
       - Page header and filter bar to V3 tokens
       - Tab switching (team rankings, head-to-head) to V3 styles
       - Import button and action items
       - Loading states to V3 colors

    3. **AdvancedRankingsPage.tsx**: This page connects to Phase 14 advanced analytics components. Migrate only the PAGE-LEVEL styling (headers, containers, wrappers) to V3 tokens. The Phase 14 components (BradleyTerryChart, ComparisonGraph, etc.) were already migrated in Phase 31 if they are seat-racing components, or may need separate migration later.

    Do NOT change component logic, routing, or data flow. Token migration only.
  </action>
  <verify>
    Run `grep -rn 'bg-gray-\|bg-zinc-\|bg-neutral-\|text-gray-\|text-zinc-\|border-gray-\|border-zinc-' src/v2/pages/RegattasPage.tsx src/v2/pages/RankingsPage.tsx src/v2/pages/AdvancedRankingsPage.tsx` — should return zero matches.
    Run `npx tsc --noEmit` to verify no TypeScript errors.
  </verify>
  <done>All 3 pages use only V3 design tokens. Zero hardcoded V1/V2 color classes remain across all rankings/regatta pages.</done>
</task>

</tasks>

<verification>
- `grep -rn 'bg-gray-\|bg-zinc-\|text-gray-\|text-zinc-\|border-gray-\|border-zinc-\|bg-neutral-\|text-neutral-' src/v2/components/rankings/ src/v2/pages/RegattasPage.tsx src/v2/pages/RankingsPage.tsx src/v2/pages/AdvancedRankingsPage.tsx` returns zero matches
- `npx tsc --noEmit` passes
- `npm run build` succeeds
</verification>

<success_criteria>
All 3 rankings components and 3 pages are migrated to V3 design tokens. No V1/V2 hardcoded color classes remain. The app builds successfully with no TypeScript errors. Combined with Plan 01, the entire regatta/rankings domain is V3-compliant.
</success_criteria>

<output>
After completion, create `.planning/phases/33-regattas-rankings-migration/33-02-SUMMARY.md`
</output>
