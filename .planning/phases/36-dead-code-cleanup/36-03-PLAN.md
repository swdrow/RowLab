---
phase: 36-dead-code-cleanup
plan: 03
type: execute
wave: 3
depends_on: ["36-02"]
files_modified:
  - src/components/3D/
  - src/components/Advanced/
  - src/components/AI/
  - src/components/Assignment/
  - src/components/AthleteBank/
  - src/components/Background/
  - src/components/Billing/
  - src/components/BoatDisplay/
  - src/components/BoatVisualizer.jsx
  - src/components/Charts/
  - src/components/CommandPalette/
  - src/components/Communication/
  - src/components/compound/
  - src/components/Concept2/
  - src/components/Coxswain/
  - src/components/DarkModeToggle.jsx
  - src/components/Dashboard/
  - src/components/DashboardRouter.jsx
  - src/components/Design/
  - src/components/domain/
  - src/components/erg/
  - src/components/ErgData/
  - src/components/Export/
  - src/components/Generative/
  - src/components/icons/
  - src/components/landing/
  - src/components/Layout/
  - src/components/PerformanceView/
  - src/components/Racing/
  - src/components/RankingDisplay/
  - src/components/SeatRacing/
  - src/components/TrainingPlans/
  - src/components/ui/
autonomous: true

must_haves:
  truths:
    - "Auth pages (login, register, invite) still render correctly with their V1 components"
    - "Landing page still renders correctly"
    - "App.jsx splash screen, loading fallback, and legacy redirect still work"
    - "Build succeeds with zero errors after V1 component deletion"
  artifacts:
    - path: "src/components/Auth/"
      provides: "Authentication components used by LoginPage, RegisterPage, InviteClaimPage"
    - path: "src/components/LoadingFallback.tsx"
      provides: "Loading fallback used by App.jsx Suspense boundaries"
    - path: "src/components/SplashScreen.tsx"
      provides: "Splash screen used by App.jsx"
    - path: "src/components/LegacyRedirect.tsx"
      provides: "Legacy route redirector used by App.jsx"
  key_links:
    - from: "src/App.jsx"
      to: "src/components/LoadingFallback"
      via: "import"
      pattern: "from.*components/LoadingFallback"
    - from: "src/App.jsx"
      to: "src/components/LegacyRedirect"
      via: "import"
      pattern: "from.*components/LegacyRedirect"
    - from: "src/pages/auth/LoginPage"
      to: "src/components/Auth/"
      via: "import"
      pattern: "from.*components/Auth"
---

<objective>
Remove ~100 dead V1 component files/directories while preserving components needed by auth pages, landing page, and App.jsx.

Purpose: With V1 pages deleted (Plan 02), most V1 components are now unreachable. This is the highest-risk deletion step because components have complex dependency trees — thorough import auditing prevents breaking auth/landing flows.
Output: ~100 dead component files removed, only auth-related and App.jsx-critical components remain in src/components/.
</objective>

<execution_context>
@/home/swd/.claude/get-shit-done/workflows/execute-plan.md
@/home/swd/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/36-dead-code-cleanup/36-RESEARCH.md
@.planning/phases/36-dead-code-cleanup/36-02-SUMMARY.md
@src/App.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit V1 component dependency tree</name>
  <files>src/components/</files>
  <action>
**Build the "keep" list by tracing imports from kept files.**

The following files are KEPT (from Plans 01-02):
- `src/App.jsx` — imports LoadingFallback, LegacyRedirect, SplashScreen
- `src/pages/auth/LoginPage.jsx` — imports from Auth/
- `src/pages/auth/RegisterPage.jsx` — imports from Auth/
- `src/pages/auth/InviteClaimPage.jsx` — imports from Auth/
- `src/pages/LandingPage.tsx` — may import landing components
- `src/pages/Concept2CallbackPage.jsx` — may import components

**Step 1: Find direct imports from kept V1 pages into src/components/.**
```bash
grep -rh "from.*['\"].*components/" src/App.jsx src/pages/auth/ src/pages/LandingPage.tsx src/pages/Concept2CallbackPage.jsx --include="*.{jsx,tsx,ts,js}" 2>/dev/null | sort -u
```

**Step 2: For each component found in Step 1, trace THEIR imports recursively.**
```bash
# For each component directory/file found, check what IT imports from src/components/
# Example: If Auth/LoginForm.jsx imports from components/ui/Button.jsx, keep Button too
grep -rh "from.*['\"].*components/" src/components/Auth/ --include="*.{jsx,tsx,ts,js}" 2>/dev/null | sort -u
```

**Step 3: Also check if any V2/Canvas files import from src/components/.**
```bash
grep -rh "from.*['\"].*src/components/\|from.*['\"]@/components/\|from.*['\"]\.\./\.\./components/\|from.*['\"]\.\.\/\.\.\/\.\.\/components/" src/v2/ --include="*.{jsx,tsx,ts,js}" 2>/dev/null | sort -u
```

**Step 4: Build the complete KEEP list.**

Known keeps (from research):
- `src/components/Auth/` (entire directory — used by auth pages)
- `src/components/LoadingFallback.tsx` (used by App.jsx)
- `src/components/SplashScreen.tsx` (used by App.jsx)
- `src/components/LegacyRedirect.tsx` (used by App.jsx)

Add any additional components found in Steps 1-3 to the keep list.

**Step 5: Document the keep list and the delete list.**

Create a simple list of directories/files to KEEP and everything else to DELETE. Every subdirectory/file in src/components/ NOT on the keep list is dead code.
  </action>
  <verify>Keep list AND delete list documented. All audit commands from Steps 1-5 completed successfully.</verify>
  <done>Complete dependency tree traced — keep list and delete list established</done>
</task>

<task type="auto">
  <name>Task 2: Delete dead V1 components</name>
  <files>src/components/ (all dead directories and files)</files>
  <action>
**Delete ALL directories and files in src/components/ that are NOT on the keep list from Task 1.**

Expected deletions (verify against Task 1 audit before deleting):
```bash
# These directories are almost certainly dead:
rm -rf src/components/3D/
rm -rf src/components/Advanced/
rm -rf src/components/AI/
rm -rf src/components/Assignment/
rm -rf src/components/AthleteBank/
rm -rf src/components/Background/
rm -rf src/components/Billing/
rm -rf src/components/BoatDisplay/
rm -f  src/components/BoatVisualizer.jsx
rm -rf src/components/Charts/
rm -rf src/components/Communication/
rm -rf src/components/compound/
rm -rf src/components/Concept2/
rm -rf src/components/Coxswain/
rm -f  src/components/DarkModeToggle.jsx
rm -rf src/components/Dashboard/
rm -f  src/components/DashboardRouter.jsx
rm -rf src/components/Design/
rm -rf src/components/domain/
rm -rf src/components/erg/
rm -rf src/components/ErgData/
rm -rf src/components/Export/
rm -rf src/components/Generative/
rm -rf src/components/Layout/
rm -rf src/components/PerformanceView/
rm -rf src/components/Racing/
rm -rf src/components/RankingDisplay/
rm -rf src/components/SeatRacing/
rm -rf src/components/TrainingPlans/
```

**Conditional deletions (depends on Task 1 audit):**
- `src/components/CommandPalette/` — check if Canvas uses its own or this V1 one
- `src/components/icons/` — check if any Canvas/V2 components import V1 icons
- `src/components/landing/` — check if LandingPage.tsx imports from here
- `src/components/ui/` — check if any kept components import from here

**IMPORTANT:** If Task 1 found ANY of these are imported by Canvas/V2/auth/landing, do NOT delete them. Only delete what the audit confirms is dead.

After deletion, verify remaining contents:
```bash
ls -la src/components/
# Expected: Auth/ LoadingFallback.tsx SplashScreen.tsx LegacyRedirect.tsx (+ any audit additions)
```
  </action>
  <verify>
`npm run build` succeeds with zero errors.
`ls src/components/` shows only kept files.
No "Cannot find module" errors referencing deleted components.
  </verify>
  <done>~100 dead V1 component files deleted, only auth/App.jsx-critical components remain</done>
</task>

<task type="auto">
  <name>Task 3: Build verification and commit</name>
  <files>dist/</files>
  <action>
Run full verification:
1. `npm run build` — must succeed
2. `npm run test:run 2>&1 | tail -30` — check for failures

If tests fail referencing deleted components, delete those test files.

If build fails with missing module errors:
- Check if the missing module is in a Canvas/V2 file that shouldn't import V1 components
- If so, remove the dead import from that V2 file
- If the module is genuinely needed, restore it from git

Commit:
```bash
git add -A
git commit -m "chore(36-03): remove ~100 dead V1 components

- Delete all V1 component directories not needed by auth/landing/App.jsx
- Preserve Auth/, LoadingFallback, SplashScreen, LegacyRedirect
- Trace and preserve any components transitively needed by kept pages
- Estimated ~1.9 MB of dead source code removed"
```
  </action>
  <verify>`npm run build` succeeds, git log shows commit</verify>
  <done>Plan 03 complete — dead V1 components removed, auth/landing pages functional, build passes</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds with zero errors
2. `src/components/` contains only Auth/, LoadingFallback.tsx, SplashScreen.tsx, LegacyRedirect.tsx (+ audit additions)
3. Auth pages render correctly (login, register, invite routes work)
4. Landing page renders correctly
5. No "Cannot find module" errors in build output
</verification>

<success_criteria>
- ~100 dead V1 component files removed
- Auth components preserved and functional
- App.jsx utility components preserved
- Build passes with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/36-dead-code-cleanup/36-03-SUMMARY.md`
</output>
